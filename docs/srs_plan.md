Для каждой карточки храним примерно такое:
	•	status: new, learning, review, learned(или как у нас выученная карточка?)

1. При нажатии кнопки «Знаю»

1.1. Если карта в статусе новая (status = new)

Поведение:
	•	Перевести в learning (этап выучивания).
	•	Больше не показывать в этой сессии (чтобы не казалось, что её «мучают»).
	•	Назначить очень короткий интервал для следующего дня:
	•	interval_days = 1
	•	next_due_at = сегодня + 1 день

Идея: «Ок, сегодня увидел — завтра проверим, помнишь ли».

1.2. Карта в ревью (status = review)

Поведение:
	•	Увеличить интервал (например, умножить на 2.3–2.5).
	•	Было 3 дня → стало 7–8
	•	Было 10 → стало ~23
	•	Немного повысить ease_factor (карта считается лёгкой).
	•	Не показывать больше в этой сессии.

Идея: «Ты её уверенно знаешь, можно показывать реже».

2. Кнопка «Сомневаюсь»

Это самое важное состояние — именно в него попадает куча живых слов.

2.1. Новая / learning карта

Поведение:
	•	Оставить status = learning.
	•	Показать ещё раз в этой же сессии, но:
	•	не сразу, а через 3–5 других карточек;
	•	На завтра назначить небольшой интервал:
	•	interval_days = 1
	•	next_due_at = сегодня + 1 день

То есть:

В рамках текущего урока: вернёмся к ней ещё раз.
В целом по курсу: держим её на «коротком поводке».


2.2. Карта в ревью

Поведение:
	•	Не сбрасывать в ноль, но почти не растить:
	•	новый интервал ≈ interval_days * 1.2 (или минимум 1 день).
	•	Пометить как hard (сложная), т.е. уменьшить ease_factor.
	•	Можно ещё раз показать в конце сессии, если карта важная.

Идея: «Ты её вроде помнишь, но ненадёжно — будем чаще проверять».



3. Кнопка «Не знаю»

Это сигнал: слово не влезло в голову вообще.

Поведение для всех статусов
	•	Если была review → перевести в learning (как будто почти новая).
	•	Сбросить интервал:
	•	interval_days = 0 (т.е. «сейчас и завтра»).
	•	Показать повторно в текущей сессии:
	•	либо сразу через 1–2 другие карточки,
	•	либо даже сначала подсказку → снова попытка.
	•	Назначить:
	•	next_due_at = сегодня (для повторного показа в конце сессии)
	•	и ещё один показ завтра (+1 день).

Идея: это слово попадает в режим «интенсивное обучение»:
сегодня несколько раз, завтра снова, пока не станет хотя бы «сомневаюсь».

4. Ограничения внутри одной сессии

Чтобы не убивать пользователя:
	•	Максимум показов одной карты за сессию — 2–3 раза.
	•	Если карта 3 раза подряд получает «не знаю»:
	•	временно убрать её из сессии,
	•	показать подсказку / более простой контекст в следующем уроке.