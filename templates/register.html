{% extends "base.html" %}

{% block title %}Create Account | Language Learning Tool{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/auth-exact.css') }}">
{% endblock %}

{% block content %}
<div class="auth-page">
  <!-- App Logo and Title -->
  <div class="app-logo">
    <i class="bi bi-translate"></i>
    <h1 class="app-title">Language Learning Tool</h1>
  </div>

  <!-- Registration Form -->
  <div class="auth-form">
    <h2 class="form-title">Create Account</h2>

    <form method="post" id="registrationForm">
      <div class="form-field">
        <label for="username">Username</label>
        <div class="input-wrapper">
          <i class="bi bi-person input-icon"></i>
          <input type="text" id="username" name="username" placeholder=" " required>
        </div>
      </div>

      <div class="form-field">
        <label for="email">Email</label>
        <div class="input-wrapper">
          <i class="bi bi-envelope input-icon"></i>
          <input type="email" id="email" name="email" placeholder=" " required>
        </div>
      </div>

      <div class="form-field">
        <label for="password">Password</label>
        <div class="input-wrapper">
          <i class="bi bi-lock input-icon"></i>
          <input type="password" id="password" name="password" placeholder=" " required>
          <button type="button" class="toggle-password" tabindex="-1">
            <i class="bi bi-eye"></i>
          </button>
        </div>
        <div class="password-strength" id="passwordStrength">
          Password strength: Too weak
        </div>
      </div>

      <div class="form-field checkbox-field">
        <label class="checkbox-container">
          <input type="checkbox" id="agree" required>
          <span class="checkmark"></span>
          I agree to the <a href="#" class="terms-link">Terms of Service</a> and <a href="#" class="terms-link">Privacy Policy</a>
        </label>
      </div>

      <button type="submit" class="submit-button">
        <i class="bi bi-person-plus"></i> Create Account
      </button>
    </form>

    <div class="divider">
      <span>or</span>
    </div>

    <div class="alt-action">
      <p>Already have an account? <a href="{{ url_for('login') }}">Sign In</a></p>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/auth-exact.js') }}"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('registrationForm');
    const agreeCheckbox = document.getElementById('agree');

    form.addEventListener('submit', function(e) {
      if (agreeCheckbox && !agreeCheckbox.checked) {
        e.preventDefault();
        alert('You must agree to the Terms of Service and Privacy Policy');
      }
    });
  });
</script>
{% endblock %}