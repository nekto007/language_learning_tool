<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ!</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, #ff9a56 0%, #ffad56 100%);
            border-radius: 8px 8px 0 0;
            margin: -20px -20px 30px -20px;
        }
        .header h1 {
            color: white;
            margin: 0;
            font-size: 28px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .streak-banner {
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }
        .fire-icon {
            font-size: 60px;
            margin-bottom: 15px;
            display: block;
            animation: fire-animation 2s infinite;
        }
        @keyframes fire-animation {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .streak-number {
            font-size: 48px;
            font-weight: bold;
            margin: 10px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .streak-level {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 16px;
            display: inline-block;
            margin: 10px 0;
        }
        .content {
            padding: 20px 0;
        }
        .progress-bar {
            background-color: #e9ecef;
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        .milestones {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        .milestone {
            text-align: center;
            padding: 15px 10px;
            border-radius: 10px;
            font-weight: bold;
        }
        .milestone.achieved {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            color: white;
        }
        .milestone.upcoming {
            background-color: #f8f9fa;
            color: #6c757d;
            border: 2px dashed #dee2e6;
        }
        .tips {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
        }
        .tips h3 {
            margin-top: 0;
            color: white;
        }
        .tip-list {
            list-style: none;
            padding: 0;
        }
        .tip-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }
        .tip-list li:before {
            content: "üí°";
            position: absolute;
            left: 0;
        }
        .button {
            display: inline-block;
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 25px;
            margin: 20px 0;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
            transition: transform 0.2s;
        }
        .button:hover {
            transform: translateY(-2px);
        }
        .stats-row {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .stat-item {
            text-align: center;
            padding: 15px;
            min-width: 120px;
        }
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #ff6b6b;
            display: block;
        }
        .stat-label {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        .footer {
            text-align: center;
            padding: 20px 0;
            border-top: 1px solid #eee;
            margin-top: 30px;
            color: #666;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üî• –í—ã –≤ –æ–≥–Ω–µ!</h1>
        </div>
        
        <div class="content">
            <div class="streak-banner">
                <span class="fire-icon">üî•</span>
                <div class="streak-number">{{ notification.data.streak_days }}</div>
                <div style="font-size: 18px; margin: 10px 0;">–¥–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
                <div class="streak-level">
                    {% if notification.data.achievement_level == 'legend' %}
                        üèÜ –õ–ï–ì–ï–ù–î–ê
                    {% elif notification.data.achievement_level == 'master' %}
                        üëë –ú–ê–°–¢–ï–†
                    {% elif notification.data.achievement_level == 'expert' %}
                        ü•á –≠–ö–°–ü–ï–†–¢
                    {% elif notification.data.achievement_level == 'dedicated' %}
                        üéØ –ü–†–ï–î–ê–ù–ù–´–ô
                    {% elif notification.data.achievement_level == 'committed' %}
                        üí™ –ù–ê–°–¢–û–ô–ß–ò–í–´–ô
                    {% else %}
                        üå± –ù–û–í–ò–ß–û–ö
                    {% endif %}
                </div>
                <p style="margin: 15px 0 0 0; font-size: 16px;">
                    –ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –í–∞—à–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç!
                </p>
            </div>
            
            <div style="background-color: #fff3cd; border: 1px solid #ffeaa7; padding: 20px; border-radius: 8px; margin: 20px 0;">
                <h3 style="margin-top: 0; color: #856404;">üéØ –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h3>
                <p style="color: #856404; margin-bottom: 0;">
                    –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è ‚Äî —ç—Ç–æ –∫–ª—é—á –∫ —É—Å–ø–µ—à–Ω–æ–º—É –∏–∑—É—á–µ–Ω–∏—é —è–∑—ã–∫–∞. –í—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç–µ –æ—Ç–ª–∏—á–Ω—É—é –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É 
                    –∏ –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å —Å–≤–æ–µ–π —Ü–µ–ª–∏. –¢–∞–∫–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–Ω–µ—Å–µ—Ç —Å–≤–æ–∏ –ø–ª–æ–¥—ã!
                </p>
            </div>
            
            <div class="stats-row">
                <div class="stat-item">
                    <span class="stat-number">{{ notification.data.streak_days }}</span>
                    <div class="stat-label">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number">{{ (notification.data.streak_days * 15) // 60 }}—á {{ (notification.data.streak_days * 15) % 60 }}–º</span>
                    <div class="stat-label">–ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number">{{ notification.data.streak_days * 3 }}</span>
                    <div class="stat-label">–ü—Ä–∏–º–µ—Ä–Ω–æ –∑–∞–¥–∞–Ω–∏–π</div>
                </div>
            </div>
            
            <h3>üèÖ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å–µ—Ä–∏–∏</h3>
            <div class="milestones">
                {% set milestones = [7, 14, 30, 60, 100, 365] %}
                {% for milestone in milestones %}
                <div class="milestone {% if notification.data.streak_days >= milestone %}achieved{% else %}upcoming{% endif %}">
                    <div style="font-size: 18px;">
                        {% if notification.data.streak_days >= milestone %}‚úÖ{% else %}üéØ{% endif %}
                    </div>
                    <div>{{ milestone }}</div>
                    <div style="font-size: 10px;">
                        {% if milestone == 7 %}–ù–µ–¥–µ–ª—è{% elif milestone == 14 %}2 –Ω–µ–¥–µ–ª–∏{% elif milestone == 30 %}–ú–µ—Å—è—Ü{% elif milestone == 60 %}2 –º–µ—Å—è—Ü–∞{% elif milestone == 100 %}100 –¥–Ω–µ–π{% else %}–ì–æ–¥{% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
            
            {% if notification.data.streak_days < 365 %}
            <div style="margin: 20px 0;">
                <p><strong>–î–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:</strong></p>
                {% set next_milestone = [7, 14, 30, 60, 100, 365] | selectattr('__gt__', notification.data.streak_days) | first %}
                {% if next_milestone %}
                <div class="progress-bar">
                    <div class="progress-fill" style="width: {{ (notification.data.streak_days / next_milestone * 100) | round }}%;"></div>
                </div>
                <p style="text-align: center; margin: 10px 0; color: #666;">
                    {{ next_milestone - notification.data.streak_days }} –¥–Ω–µ–π –¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è "{{ next_milestone }} –¥–Ω–µ–π"
                </p>
                {% endif %}
            </div>
            {% endif %}
            
            <div class="tips">
                <h3>üí™ –ö–∞–∫ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Å–µ—Ä–∏—é:</h3>
                <ul class="tip-list">
                    <li>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–∞ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è</li>
                    <li>–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –º–∞–ª–æ–≥–æ ‚Äî –¥–∞–∂–µ 10 –º–∏–Ω—É—Ç –≤ –¥–µ–Ω—å –≤–∞–∂–Ω—ã</li>
                    <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–Ω—è—Ç–∏–π –≤ –¥–æ—Ä–æ–≥–µ</li>
                    <li>–ù–∞–π–¥–∏—Ç–µ –≤—Ä–µ–º—è, –∫–æ—Ç–æ—Ä–æ–µ –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –∏–º–µ–Ω–Ω–æ –≤–∞–º</li>
                    <li>–û—Ç–º–µ—á–∞–π—Ç–µ —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –ø—Ä–∞–∑–¥–Ω—É–π—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</li>
                </ul>
            </div>
            
            <div style="text-align: center;">
                <a href="{{ url_for('curriculum.index', _external=True) }}" class="button">
                    üî• –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å–µ—Ä–∏—é
                </a>
            </div>
            
            <div style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); border-radius: 12px; text-align: center;">
                <h3 style="margin-top: 0; color: #333;">üèÜ –í—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç–µ!</h3>
                <p style="color: #555; margin-bottom: 0;">
                    –í–∞—à–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –ø—Ä–∏–º–µ—Ä –¥–ª—è –¥—Ä—É–≥–∏—Ö —É—á–µ–Ω–∏–∫–æ–≤. 
                    –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ, –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ –∑–∞—Å—Ç–∞–≤—è—Ç —Å–µ–±—è –∂–¥–∞—Ç—å!
                </p>
            </div>
        </div>
        
        <div class="footer">
            <p><strong>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ–º —Å–µ—Ä–∏–∏ {{ notification.data.streak_days }} –¥–Ω–µ–π!</strong></p>
            <p>
                <a href="{{ url_for('auth.profile', _external=True) }}">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</a> | 
                <a href="mailto:support@example.com">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
            </p>
            <p>¬© 2024 Language Learning Tool. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </div>
</body>
</html>